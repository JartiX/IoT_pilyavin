# Цель:
Написать программу, которая управляет пятью светодиодами, подключёнными к одному порту микроконтроллера (например, PORTB0–PORTB4).
Каждый светодиод должен мигать (переключаться) с разным периодом, задаваемым через константы.

# Описание задачи
Дан пример кода (см. blink.ipynb), в котором один светодиод мигает с использованием прерываний по переполнению таймера Timer1.
Необходимо расширить эту логику, чтобы управлять пятью светодиодами, каждый из которых мигает с разной частотой.

Период мигания каждого светодиода должен определяться как целое число временных интервалов, задаваемых таймером.
Частоту таймера или задержку напрямую указывать нельзя — нужно использовать периодические прерывания для отслеживания прошедших интервалов.

# Требования:
нельзя использовать функции delay() или millis();
настройка пинов должна выполняться через регистры DDRx, PINx, PORTx (без pinMode(), digitalRead(), digitalWrite() и т. п.);
нельзя жёстко задавать периоды мигания — они должны выражаться как целое кратное минимальной единице времени;
используется один таймер для всех пинов;
необходимо применять побитовые операторы (|, &, >> и т. д.) для изменения состояния регистров;
прерывания таймера должны происходить точно по времени, с разрешением 1/16000000 секунды, без приблизительных задержек.

# Управление пятью светодиодами через Timer1

## Константы и переменные

```cpp
const int base_period = 15;
const int number_of_leds = 5;
volatile unsigned int ledCounters[number_of_leds] = {0};
```

- `base_period` — базовая единица времени (15 прерываний таймера)
- `number_of_leds` — количество светодиодов (5 штук)
- `ledCounters[]` — массив счётчиков для каждого светодиода (volatile, так как изменяется в прерывании)

## Функция setup()

### Отключение прерываний
```cpp
cli();
```
Временно отключает все прерывания на время настройки таймера.

### Настройка портов
```cpp
DDRB |= 0b00011111;
```
Устанавливает пины PB0-PB4 (биты 0-4 порта B) как выходы для подключения светодиодов.
- `0b00011111` = маска с единицами в первых пяти битах
- `|=` добавляет эти биты, не трогая остальные

### Сброс регистров таймера
```cpp
TCCR1A = 0;
TCCR1B = 0;
```
Очищает регистры управления Timer1 для чистой настройки.

### Режим CTC
```cpp
TCCR1B |= (1 << WGM12);
```
Включает режим CTC (Clear Timer on Compare Match):
- Таймер считает от 0 до значения в OCR1A
- При достижении OCR1A таймер автоматически сбрасывается в 0
- Генерируется прерывание

### Делитель частоты
```cpp
TCCR1B |= (1 << CS12);
```
Устанавливает делитель (prescaler) = 256:
- Частота таймера: 16 МГц / 256 = 62500 Гц
- Период одного тика: 16 мкс

### Значение сравнения
```cpp
OCR1A = 624;
```
Задаёт порог срабатывания:
- Таймер считает от 0 до 624 (всего 625 тиков)
- Период прерывания: 625 × 16 мкс = 10 мс
- Частота прерываний: 100 Гц

### Включение прерывания
```cpp
TIMSK1 |= (1 << OCIE1A);
```
Разрешает прерывание при совпадении таймера с OCR1A.

### Включение прерываний
```cpp
sei();
```
Глобально включает прерывания.

## Обработчик прерывания ISR

```cpp
ISR(TIMER1_COMPA_vect) {
```
Эта функция вызывается автоматически каждые 10 мс.

### Цикл по всем светодиодам
```cpp
for (int i = 0; i < number_of_leds; i++) {
```
Обрабатывает каждый из 5 светодиодов.

### Инкремент счётчика
```cpp
ledCounters[i]++;
```
Увеличивает счётчик прерываний для текущего светодиода.

### Вычисление целевого периода
```cpp
unsigned int targetPeriod = (i + 1) * base_period;
```
Рассчитывает, сколько прерываний должно пройти для этого светодиода:
- LED 0: 1 × 15 = 15 прерываний (150 мс)
- LED 1: 2 × 15 = 30 прерываний (300 мс)
- LED 2: 3 × 15 = 45 прерываний (450 мс)
- LED 3: 4 × 15 = 60 прерываний (600 мс)
- LED 4: 5 × 15 = 75 прерываний (750 мс)

### Проверка и переключение
```cpp
if (ledCounters[i] >= targetPeriod) {
    PORTB ^= (1 << i);
    ledCounters[i] = 0;
}
```
Если счётчик достиг целевого значения:
1. `PORTB ^= (1 << i)` — инвертирует i-й бит порта B (переключает светодиод)
   - `(1 << i)` создаёт маску: 0b00001, 0b00010, 0b00100, 0b01000, 0b10000
   - `^=` (XOR) меняет 0→1 или 1→0, не трогая другие биты
2. `ledCounters[i] = 0` — сбрасывает счётчик для нового цикла

## Функция loop()

```cpp
void loop() {
}
```
Пустая, вся работа происходит в обработчике прерывания.

## Результат

Светодиоды мигают независимо с периодами:
- LED 0: каждые 150 мс
- LED 1: каждые 300 мс
- LED 2: каждые 450 мс
- LED 3: каждые 600 мс
- LED 4: каждые 750 мс

Изменение `base_period` пропорционально меняет все периоды.